(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2898:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(3097)}])},3097:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var a=o(7876),r=o(4232);function s(e){let{todo:t,deleteTodo:o}=e;return(0,a.jsxs)("li",{className:"flex justify-between items-center p-4 bg-[var(--background-form)] text-[var(--main-color)] rounded-lg shadow-sm hover:shadow-md transition",children:[(0,a.jsx)("span",{children:t.title}),(0,a.jsx)("button",{onClick:()=>o(t.id),className:"text-red-500 hover:text-red-700 font-medium",children:"Delete"})]})}function d(e){let{todos:t,deleteTodo:o,isError:r}=e;return r?(0,a.jsx)("div",{className:"text-red-500",children:"Error fetching todos. Please try again â˜º"}):(0,a.jsx)("ul",{className:"space-y-3",children:t.map(e=>(0,a.jsx)(s,{todo:e,deleteTodo:o},e.id))})}function n(e){let{createTodo:t,isLoading:o}=e,[s,d]=(0,r.useState)("");return(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&(t({title:s,completed:!1}),d(""))},className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>d(e.target.value),placeholder:"Add a new todo",className:"w-full px-4 py-2 bg-[var(--background-form)] text-var(--main-color) border border-gray-800 rounded-lg shadow-sm focus:border-primary",required:!0,disabled:o}),(0,a.jsx)("button",{type:"submit","aria-label":"Add TODO",className:"px-6 py-2 bg-primary border border-[var(--accent-color)] text-[var( --main-color)] font-medium rounded-lg shadow-md hover:bg-[var(--accent-color)] transition",disabled:o,children:o?"Loading...":"Add"})]})})}var i=o(1992),l=o(1040);let c=()=>{let e=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>(await l.A.post("https://jsonplaceholder.typicode.com/todos",e)).data,onSuccess:()=>{e.invalidateQueries("todos")}})},u=()=>{let e=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{await l.A.delete("https://jsonplaceholder.typicode.com/todos/".concat(e))},onSuccess:()=>{e.invalidateQueries("todos")}})},m=()=>(0,i.useQuery)("todos",async()=>(await l.A.get("https://jsonplaceholder.typicode.com/todos?_limit=10")).data);function p(){let[e,t]=(0,r.useState)([]),{data:o,isLoading:s,isError:i}=m();(0,r.useEffect)(()=>{o&&t(o)},[o]);let l=c(),p=u();return(0,a.jsxs)("div",{className:"container mx-auto p-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Todo App"}),(0,a.jsx)(n,{createTodo:e=>{t(t=>[{id:Date.now(),...e},...t]),l.mutate(e)},isLoading:s}),(0,a.jsx)(d,{todos:e,deleteTodo:e=>{t(t=>t.filter(t=>t.id!==e)),p.mutate(e)},isError:i})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[40,636,593,792],()=>t(2898)),_N_E=e.O()}]);